{"ast":null,"code":"import _slicedToArray from\"D:\\\\Users\\\\sagar\\\\Desktop\\\\projects\\\\React projects\\\\coronavirus\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{connect}from\"react-redux\";import{Link}from\"react-router-dom\";import\"./stateinfo.css\";import{stateInfoAction,districtInfoAction,zoneInfoAction,testInfoAction}from\"../../store/actions/stateInfoActions\";import MaharashtraMap from\"../home/geographics/MaharashtraMap\";import EventsTimeline from\"./EventsTimeline\";var StateInfo=function StateInfo(props){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),impData=_useState2[0],setImpData=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),districts=_useState4[0],setDistrictData=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),zone=_useState6[0],setZone=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),tests=_useState8[0],setTests=_useState8[1];// Array of zone Data\nvar zonedStates=[];// array of tests Data\nvar testsData=[];// holds the array of the selected state\nvar lastObject=tests;var todaysTestCount=tests[tests.length-1];// for counting total tests till the date of the selected state\nvar totalTestCount=0;for(var count in lastObject){totalTestCount+=parseInt(lastObject[count].totaltested);}useEffect(function(){props.getStatesData();props.getDistrictData();props.getZoneData();props.getTestData();// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);useEffect(function(){if(props.stateInfo.length!==0){// get the state from the params statecode\nvar stateCode=props.match.params.statename;var index=props.stateInfo.findIndex(function(name){return name.statecode===stateCode;});var state=props.stateInfo[index];setImpData(state);}if(props.districtInfo.length!==0){// get the district data from the statecode\nvar _stateCode=props.match.params.statename;var districtIndex=props.districtInfo.findIndex(function(districtItem){return districtItem.statecode===_stateCode;});var district=props.districtInfo[districtIndex].districtData;setDistrictData(district);}if(props.zoneInfo.length!==0){// get the Zone Data for current selected state \nvar _stateCode2=props.match.params.statename;for(var i in props.zoneInfo){if(props.zoneInfo[i].statecode===_stateCode2){zonedStates.push(props.zoneInfo[i]);}}setZone(zonedStates);}if(props.testInfo.length!==0){// get the Zone Data for current selected state \n// const stateCode = props.match.params.statename\nfor(var tests in props.testInfo){if(props.testInfo[tests].state===impData.state){testsData.push(props.testInfo[tests]);}}setTests(testsData);}},[props]);// Adding zone property in the OG districts state array \nfor(var i in districts){for(var j in zone){if(districts[i].district===zone[j].district){districts[i]['zone']=zone[j].zone;}}}var handleStateSelect=function handleStateSelect(e){props.history.push(\"\".concat(e.target.value));};return/*#__PURE__*/React.createElement(\"div\",{className:\"container mt-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"bc-icons-2 bread col-sm-4\"},/*#__PURE__*/React.createElement(\"nav\",{\"aria-label\":\"breadcrumb\"},/*#__PURE__*/React.createElement(\"ol\",{className:\"breadcrumb \".concat(props.modeState&&'grey lighten-1',\" grey lighten-4\")},/*#__PURE__*/React.createElement(\"li\",{className:\"breadcrumb-item\"},/*#__PURE__*/React.createElement(Link,{className:\"black-text\",to:\"/\"},\"Home\")),/*#__PURE__*/React.createElement(\"li\",{className:\"breadcrumb-item\"},/*#__PURE__*/React.createElement(\"select\",{onChange:handleStateSelect},/*#__PURE__*/React.createElement(\"option\",{defaultValue:true},impData.state),props.stateInfo.slice(0,32).map(function(state,index){return/*#__PURE__*/React.createElement(\"option\",{key:index,value:state.statecode},state.state);})))))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-sm-4\"},/*#__PURE__*/React.createElement(\"p\",{className:\"text-danger\",style:{margin:0,fontSize:\"24px\",fontWeight:600}},impData.state,\" \"),/*#__PURE__*/React.createElement(\"p\",{className:\"text-muted font-italic\"},\"Last updated on - \",new Date(impData.lastupdatedtime).toLocaleString())),/*#__PURE__*/React.createElement(\"div\",{className:\"col-sm-4\"},/*#__PURE__*/React.createElement(\"p\",null,\" Total tests conducted : \",lastObject!==undefined&&Number(totalTestCount).toLocaleString()),/*#__PURE__*/React.createElement(\"p\",null,\" Todays tests count : \",todaysTestCount!==undefined&&Number(todaysTestCount.totaltested).toLocaleString()))),/*#__PURE__*/React.createElement(\"div\",{className:\"state-counts row\",style:{margin:\"5px\"}},/*#__PURE__*/React.createElement(\"div\",{className:\"col-6 col-md-3 state-count-box rgba-red-slight\"},/*#__PURE__*/React.createElement(\"p\",{className:\"text-danger\"},\"Confirm\"),/*#__PURE__*/React.createElement(\"p\",{className:\"text-danger\",style:{margin:0}},impData.confirmed),impData.deltaconfirmed<=0?/*#__PURE__*/React.createElement(\"p\",{className:\"text-danger\"},\"No new cases yet\"):/*#__PURE__*/React.createElement(\"div\",{className:\"row delta-data text-danger\"},/*#__PURE__*/React.createElement(\"i\",{className:\" far fa-arrow-alt-circle-up cc_pointer text-small\"}),/*#__PURE__*/React.createElement(\"p\",{className:\"delta-confirmed \"},impData.deltaconfirmed))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6  col-md-3 state-count-box rgba-blue-slight\"},/*#__PURE__*/React.createElement(\"p\",{className:\"text-info\"},\"Active\"),/*#__PURE__*/React.createElement(\"p\",{className:\"text-info\"},impData.active),impData.deltaconfirmed<=0?/*#__PURE__*/React.createElement(\"p\",{className:\"text-info\"},\"No new cases yet\"):/*#__PURE__*/React.createElement(\"div\",{className:\"row delta-data text-info\"},/*#__PURE__*/React.createElement(\"i\",{className:\" far fa-arrow-alt-circle-up cc_pointer text-small\"}),/*#__PURE__*/React.createElement(\"p\",{className:\"delta-confirmed \"},impData.deltaconfirmed))),/*#__PURE__*/React.createElement(\"div\",{className:\" col-6 col-md-3  state-count-box rgba-green-slight\"},/*#__PURE__*/React.createElement(\"p\",{className:\"text-success\"},\"Recovered\"),/*#__PURE__*/React.createElement(\"p\",{className:\"text-success\"},impData.recovered),impData.deltarecovered<=0?/*#__PURE__*/React.createElement(\"p\",{className:\"text-success\"},\"No new cases yet\"):/*#__PURE__*/React.createElement(\"div\",{className:\"row delta-data text-success\"},/*#__PURE__*/React.createElement(\"i\",{className:\" far fa-arrow-alt-circle-up cc_pointer text-small\"}),/*#__PURE__*/React.createElement(\"p\",{className:\"delta-confirmed \"},impData.deltarecovered))),/*#__PURE__*/React.createElement(\"div\",{className:\" col-6  col-md-3 state-count-box rgba-grey-slight\"},/*#__PURE__*/React.createElement(\"p\",{className:\"text-black\"},\"Deceased\"),/*#__PURE__*/React.createElement(\"p\",{className:\"text-black\"},impData.deaths),impData.deltadeaths<=0?/*#__PURE__*/React.createElement(\"p\",{className:\"text-black\"},\"No new cases yet\"):/*#__PURE__*/React.createElement(\"div\",{className:\"row delta-data text-black\"},/*#__PURE__*/React.createElement(\"i\",{className:\" far fa-arrow-alt-circle-up cc_pointer text-small\"}),/*#__PURE__*/React.createElement(\"p\",{className:\"delta-confirmed \"},impData.deltadeaths)))),/*#__PURE__*/React.createElement(\"div\",{className:\"row districts-map\"},/*#__PURE__*/React.createElement(\"div\",{className:\"district-data col-md-6\"},/*#__PURE__*/React.createElement(\"p\",{className:\"text-danger\",style:{fontSize:\"20px\",fontWeight:600}},\"District-Wise Stats\"),/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row zone-info\"},/*#__PURE__*/React.createElement(\"span\",{className:\"zoneSign red lighten-2\"}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"span\",{className:\"zoneSign orange lighten-2\"}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"span\",{className:\"zoneSign green lighten-2\"}),/*#__PURE__*/React.createElement(\"span\",{className:\"sign-text\"},\"Current zone of Districts\"))),/*#__PURE__*/React.createElement(\"table\",{className:\"table\"},/*#__PURE__*/React.createElement(\"thead\",{className:\"thead-dark\"},/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"Districts\"),/*#__PURE__*/React.createElement(\"th\",{className:\"confirmed\"}),/*#__PURE__*/React.createElement(\"th\",{className:\"active\"}),/*#__PURE__*/React.createElement(\"th\",{className:\"recovered\"}),/*#__PURE__*/React.createElement(\"th\",{className:\"deceased\"}))),/*#__PURE__*/React.createElement(\"tbody\",null,districts.map(function(dist,index){return/*#__PURE__*/React.createElement(\"tr\",{className:\"\".concat(props.modeState&&'dark-table',\" \").concat(dist.zone==='Red'?'rgba-red-slight':dist.zone==='Orange'?'rgba-orange-slight':dist.zone===''?'':'rgba-green-slight',\" \"),key:index},/*#__PURE__*/React.createElement(\"td\",null,dist.district),/*#__PURE__*/React.createElement(\"td\",null,dist.confirmed,dist.delta.confirmed!==0&&/*#__PURE__*/React.createElement(\"i\",{className:\"text-danger far fa-arrow-alt-circle-up cc_pointer text-small\"},dist.delta.confirmed)),/*#__PURE__*/React.createElement(\"td\",null,dist.active,dist.delta.confirmed!==0&&/*#__PURE__*/React.createElement(\"i\",{className:\"text-info far fa-arrow-alt-circle-up cc_pointer text-small\"},dist.delta.confirmed)),/*#__PURE__*/React.createElement(\"td\",null,dist.recovered,dist.delta.recovered!==0&&/*#__PURE__*/React.createElement(\"i\",{className:\"text-success far fa-arrow-alt-circle-up cc_pointer text-small\"},dist.delta.recovered)),/*#__PURE__*/React.createElement(\"td\",null,dist.deceased,dist.delta.deceased!==0&&/*#__PURE__*/React.createElement(\"i\",{className:\"text-black far fa-arrow-alt-circle-up cc_pointer text-small\"},dist.delta.deceased)));})))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6\"},/*#__PURE__*/React.createElement(EventsTimeline,{tests:lastObject}))));};var mapStateToProps=function mapStateToProps(state){return{stateInfo:state.stateInfo.statesInfoData,districtInfo:state.stateInfo.districtData,testInfo:state.stateInfo.testData,zoneInfo:state.stateInfo.zoneData,modeState:state.darkMode.hasmode};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{getStatesData:function getStatesData(){return dispatch(stateInfoAction());},getDistrictData:function getDistrictData(){return dispatch(districtInfoAction());},getZoneData:function getZoneData(){return dispatch(zoneInfoAction());},getTestData:function getTestData(){return dispatch(testInfoAction());}};};export default connect(mapStateToProps,mapDispatchToProps)(StateInfo);","map":{"version":3,"sources":["D:/Users/sagar/Desktop/projects/React projects/coronavirus/src/components/stateinfo/StateInfo.js"],"names":["React","useState","useEffect","connect","Link","stateInfoAction","districtInfoAction","zoneInfoAction","testInfoAction","MaharashtraMap","EventsTimeline","StateInfo","props","impData","setImpData","districts","setDistrictData","zone","setZone","tests","setTests","zonedStates","testsData","lastObject","todaysTestCount","length","totalTestCount","count","parseInt","totaltested","getStatesData","getDistrictData","getZoneData","getTestData","stateInfo","stateCode","match","params","statename","index","findIndex","name","statecode","state","districtInfo","districtIndex","districtItem","district","districtData","zoneInfo","i","push","testInfo","j","handleStateSelect","e","history","target","value","modeState","slice","map","margin","fontSize","fontWeight","Date","lastupdatedtime","toLocaleString","undefined","Number","confirmed","deltaconfirmed","active","recovered","deltarecovered","deaths","deltadeaths","dist","delta","deceased","mapStateToProps","statesInfoData","testData","zoneData","darkMode","hasmode","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./stateinfo.css\";\r\nimport { stateInfoAction, districtInfoAction, zoneInfoAction, testInfoAction } from \"../../store/actions/stateInfoActions\";\r\nimport MaharashtraMap from \"../home/geographics/MaharashtraMap\";\r\nimport EventsTimeline from \"./EventsTimeline\";\r\n\r\n\r\n\r\nconst StateInfo = (props) => {\r\n    const [impData, setImpData] = useState({})\r\n    const [districts, setDistrictData] = useState([])\r\n    const [zone, setZone] = useState([])\r\n    const [tests, setTests] = useState([])\r\n\r\n\r\n    // Array of zone Data\r\n    var zonedStates = []\r\n\r\n    // array of tests Data\r\n    var testsData = []\r\n\r\n    // holds the array of the selected state\r\n    var lastObject = tests\r\n    var todaysTestCount = tests[tests.length - 1]\r\n\r\n    // for counting total tests till the date of the selected state\r\n    var totalTestCount = 0\r\n    for (var count in lastObject) {\r\n        totalTestCount += parseInt(lastObject[count].totaltested)\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        props.getStatesData()\r\n        props.getDistrictData()\r\n        props.getZoneData()\r\n        props.getTestData()\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [])\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        if (props.stateInfo.length !== 0) {\r\n\r\n            // get the state from the params statecode\r\n            const stateCode = props.match.params.statename\r\n            const index = props.stateInfo.findIndex(name => name.statecode === stateCode)\r\n            const state = props.stateInfo[index]\r\n            setImpData(state)\r\n        }\r\n        if (props.districtInfo.length !== 0) {\r\n\r\n            // get the district data from the statecode\r\n            const stateCode = props.match.params.statename\r\n            const districtIndex = props.districtInfo.findIndex(districtItem => districtItem.statecode === stateCode)\r\n            const district = props.districtInfo[districtIndex].districtData\r\n            setDistrictData(district)\r\n        }\r\n\r\n        if (props.zoneInfo.length !== 0) {\r\n\r\n            // get the Zone Data for current selected state \r\n            const stateCode = props.match.params.statename\r\n            for (var i in props.zoneInfo) {\r\n                if (props.zoneInfo[i].statecode === stateCode) {\r\n                    zonedStates.push(props.zoneInfo[i])\r\n                }\r\n            }\r\n            setZone(zonedStates)\r\n        }\r\n\r\n\r\n        if (props.testInfo.length !== 0) {\r\n\r\n            // get the Zone Data for current selected state \r\n            // const stateCode = props.match.params.statename\r\n            for (var tests in props.testInfo) {\r\n                if (props.testInfo[tests].state === impData.state) {\r\n                    testsData.push(props.testInfo[tests])\r\n                }\r\n            }\r\n            setTests(testsData)\r\n        }\r\n\r\n    }, [props])\r\n\r\n    // Adding zone property in the OG districts state array \r\n    for (var i in districts) {\r\n        for (var j in zone) {\r\n            if (districts[i].district === zone[j].district) {\r\n                districts[i]['zone'] = zone[j].zone\r\n            }\r\n        }\r\n    }\r\n\r\n    const handleStateSelect = e => {\r\n        props.history.push(`${e.target.value}`)\r\n    }\r\n\r\n    return (\r\n        <div className=\"container mt-3\">\r\n\r\n            <div className=\"row\">\r\n                <div className=\"bc-icons-2 bread col-sm-4\">\r\n                    <nav aria-label=\"breadcrumb\">\r\n                        <ol className={`breadcrumb ${props.modeState && 'grey lighten-1'} grey lighten-4`}>\r\n                            <li className=\"breadcrumb-item\"><Link className=\"black-text\" to=\"/\">Home</Link></li>\r\n                            <li className=\"breadcrumb-item\">\r\n                                <select onChange={handleStateSelect}>\r\n                                    <option defaultValue>{impData.state}</option>\r\n                                    {props.stateInfo.slice(0, 32).map((state, index) => (\r\n                                        <option key={index} value={state.statecode}>{state.state}</option>\r\n                                    ))}\r\n                                </select>\r\n                            </li>\r\n                            {/* <li className=\"breadcrumb-item\"><span className=\"badge badge-pill badge-info\" style={{ fontSize: \"14px\" }}> {impData.state} </span></li> */}\r\n                        </ol>\r\n                    </nav>\r\n                </div>\r\n\r\n\r\n                <div className=\"col-sm-4\">\r\n                    <p className=\"text-danger\" style={{ margin: 0, fontSize: \"24px\", fontWeight: 600 }}>{impData.state} </p>\r\n                    <p className=\"text-muted font-italic\" >Last updated on - {new Date(impData.lastupdatedtime).toLocaleString()}</p>\r\n                </div>\r\n\r\n                <div className=\"col-sm-4\">\r\n                    <p> Total tests conducted : {lastObject !== undefined && Number(totalTestCount).toLocaleString()}</p>\r\n                    <p> Todays tests count : {todaysTestCount !== undefined && Number(todaysTestCount.totaltested).toLocaleString()}</p>\r\n                </div>\r\n\r\n\r\n            </div>\r\n\r\n            <div className=\"state-counts row\" style={{ margin: \"5px\" }}>\r\n                <div className=\"col-6 col-md-3 state-count-box rgba-red-slight\">\r\n                    <p className=\"text-danger\">Confirm</p>\r\n                    <p className=\"text-danger\" style={{ margin: 0 }}>{impData.confirmed}</p>\r\n\r\n                    {impData.deltaconfirmed <= 0 ? <p className=\"text-danger\">No new cases yet</p> :\r\n                        <div className=\"row delta-data text-danger\">\r\n                            <i className=\" far fa-arrow-alt-circle-up cc_pointer text-small\"></i><p className=\"delta-confirmed \">{impData.deltaconfirmed}</p>\r\n                        </div>\r\n                    }\r\n                </div>\r\n\r\n                <div className=\"col-6  col-md-3 state-count-box rgba-blue-slight\">\r\n                    <p className=\"text-info\">Active</p>\r\n                    <p className=\"text-info\">{impData.active}</p>\r\n\r\n                    {impData.deltaconfirmed <= 0 ? <p className=\"text-info\">No new cases yet</p> :\r\n                        <div className=\"row delta-data text-info\">\r\n                            <i className=\" far fa-arrow-alt-circle-up cc_pointer text-small\"></i><p className=\"delta-confirmed \">{impData.deltaconfirmed}</p>\r\n                        </div>\r\n                    }\r\n\r\n                </div>\r\n                <div className=\" col-6 col-md-3  state-count-box rgba-green-slight\">\r\n                    <p className=\"text-success\">Recovered</p>\r\n                    <p className=\"text-success\">{impData.recovered}</p>\r\n\r\n                    {impData.deltarecovered <= 0 ? <p className=\"text-success\">No new cases yet</p> :\r\n                        <div className=\"row delta-data text-success\">\r\n                            <i className=\" far fa-arrow-alt-circle-up cc_pointer text-small\"></i><p className=\"delta-confirmed \">{impData.deltarecovered}</p>\r\n                        </div>\r\n                    }\r\n\r\n                </div>\r\n                <div className=\" col-6  col-md-3 state-count-box rgba-grey-slight\">\r\n                    <p className=\"text-black\">Deceased</p>\r\n                    <p className=\"text-black\">{impData.deaths}</p>\r\n\r\n                    {impData.deltadeaths <= 0 ? <p className=\"text-black\">No new cases yet</p> :\r\n\r\n                        <div className=\"row delta-data text-black\">\r\n                            <i className=\" far fa-arrow-alt-circle-up cc_pointer text-small\"></i><p className=\"delta-confirmed \">{impData.deltadeaths}</p>\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </div>\r\n\r\n            {/* District table and map */}\r\n\r\n            <div className=\"row districts-map\">\r\n                <div className=\"district-data col-md-6\">\r\n                    <p className=\"text-danger\" style={{ fontSize: \"20px\", fontWeight: 600 }}>District-Wise Stats</p>\r\n\r\n                    <div className=\"container\">\r\n                        <div className=\"row zone-info\">\r\n                            <span className=\"zoneSign red lighten-2\"></span><br />\r\n                            <span className=\"zoneSign orange lighten-2\"></span><br />\r\n                            <span className=\"zoneSign green lighten-2\"></span>\r\n                            <span className=\"sign-text\">Current zone of Districts</span>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <table className=\"table\">\r\n                        <thead className=\"thead-dark\">\r\n                            <tr>\r\n                                <th>Districts</th>\r\n                                <th className=\"confirmed\"></th>\r\n                                <th className=\"active\"></th>\r\n                                <th className=\"recovered\"></th>\r\n                                <th className=\"deceased\"></th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {districts.map((dist, index) => (\r\n                                <tr className={`${props.modeState && 'dark-table'} ${dist.zone === 'Red' ? 'rgba-red-slight' : dist.zone === 'Orange' ? 'rgba-orange-slight' : dist.zone === '' ? '' : 'rgba-green-slight'} `} key={index}>\r\n                                    <td >{dist.district}</td>\r\n                                    <td>{dist.confirmed}\r\n                                        {dist.delta.confirmed !== 0 &&\r\n                                            <i className=\"text-danger far fa-arrow-alt-circle-up cc_pointer text-small\">{dist.delta.confirmed}</i>\r\n                                        }\r\n                                        {/* {dist.zone && <p style={{ margin: 0 }}>Zone : {dist.zone}</p>} */}\r\n                                        {/* {zone.map((z, index) => (\r\n                                            dist.district === z.district && <p key={index}>{z.zone}</p>\r\n                                        ))} */}\r\n\r\n                                        {/* {zone[index] !== undefined  && dist.district === zone[index].district ? <p className=\"text-danger\"> { zone[index].zone} </p> : <p>Not available</p>} */}\r\n\r\n                                    </td>\r\n                                    <td>{dist.active}\r\n                                        {dist.delta.confirmed !== 0 &&\r\n                                            <i className=\"text-info far fa-arrow-alt-circle-up cc_pointer text-small\">{dist.delta.confirmed}</i>\r\n                                        }\r\n                                    </td>\r\n                                    <td>{dist.recovered}\r\n                                        {dist.delta.recovered !== 0 &&\r\n                                            <i className=\"text-success far fa-arrow-alt-circle-up cc_pointer text-small\">{dist.delta.recovered}</i>\r\n                                        }\r\n                                    </td>\r\n                                    <td>{dist.deceased}\r\n                                        {dist.delta.deceased !== 0 &&\r\n                                            <i className=\"text-black far fa-arrow-alt-circle-up cc_pointer text-small\">{dist.delta.deceased}</i>\r\n                                        }\r\n                                    </td>\r\n                                </tr>\r\n                            ))}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n\r\n                <div className=\"col-md-6\">\r\n                    {/* {props.match.params.statename === 'MH' && <MaharashtraMap />} */}\r\n                                    <EventsTimeline tests = {lastObject}/>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        stateInfo: state.stateInfo.statesInfoData,\r\n        districtInfo: state.stateInfo.districtData,\r\n        testInfo: state.stateInfo.testData,\r\n        zoneInfo: state.stateInfo.zoneData,\r\n        modeState: state.darkMode.hasmode\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        getStatesData: () => dispatch(stateInfoAction()),\r\n        getDistrictData: () => dispatch(districtInfoAction()),\r\n        getZoneData: () => dispatch(zoneInfoAction()),\r\n        getTestData: () => dispatch(testInfoAction())\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(StateInfo)  "]},"metadata":{},"sourceType":"module"}