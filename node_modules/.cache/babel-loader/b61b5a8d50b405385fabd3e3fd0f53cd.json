{"ast":null,"code":"import axios from\"axios\";export var GET_LIVE_STATS=\"GET_LIVE_STATS\";export var ERROR_LIVE_STATS=\"ERROR_LIVE_STATS\";export var FETCHING_LIVE_STATS=\"FETCHING_LIVE_STATS\";export var GET_STATES_DATA=\"GET_STATES_DATA\";export var GET_TIME_SERIES=\"GET_TIME_SERIES\";export var GET_TEST_SAMPLES=\"GET_TEST_SAMPLES\";export var GET_FACTOIDS=\"GET_FACTOIDS\";export var getLiveStatsAction=function getLiveStatsAction(){return function(dispatch){dispatch({type:FETCHING_LIVE_STATS});var statsRequest=\"https://api.covid19india.org/data.json\";var factoidsRequest=\"https://api.covid19india.org/website_data.json\";var statsResp=axios.get(statsRequest);var factoidsResp=axios.get(factoidsRequest);axios.all([statsResp,factoidsResp]).then(axios.spread(function(){var allDataStats=arguments.length<=0?undefined:arguments[0];var allDataFactoids=arguments.length<=1?undefined:arguments[1];dispatch({type:GET_LIVE_STATS,payload:allDataStats.data.statewise[0]});dispatch({type:GET_STATES_DATA,payload:allDataStats.data.statewise.slice(1,-1)});dispatch({type:GET_TIME_SERIES,payload:allDataStats.data.cases_time_series});dispatch({type:GET_TEST_SAMPLES,payload:allDataStats.data.tested});dispatch({type:GET_FACTOIDS,payload:allDataFactoids.data.factoids});})).catch(function(err){console.log(err);dispatch({type:ERROR_LIVE_STATS,payload:'Error. Try again'});});};};","map":{"version":3,"sources":["D:/Users/sagar/Desktop/projects/React projects/coronavirus/src/store/actions/statActions.js"],"names":["axios","GET_LIVE_STATS","ERROR_LIVE_STATS","FETCHING_LIVE_STATS","GET_STATES_DATA","GET_TIME_SERIES","GET_TEST_SAMPLES","GET_FACTOIDS","getLiveStatsAction","dispatch","type","statsRequest","factoidsRequest","statsResp","get","factoidsResp","all","then","spread","allDataStats","allDataFactoids","payload","data","statewise","slice","cases_time_series","tested","factoids","catch","err","console","log"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CAEA,MAAO,IAAMC,CAAAA,cAAc,CAAG,gBAAvB,CACP,MAAO,IAAMC,CAAAA,gBAAgB,CAAG,kBAAzB,CACP,MAAO,IAAMC,CAAAA,mBAAmB,CAAG,qBAA5B,CACP,MAAO,IAAMC,CAAAA,eAAe,CAAG,iBAAxB,CACP,MAAO,IAAMC,CAAAA,eAAe,CAAG,iBAAxB,CACP,MAAO,IAAMC,CAAAA,gBAAgB,CAAG,kBAAzB,CACP,MAAO,IAAMC,CAAAA,YAAY,CAAG,cAArB,CAGP,MAAO,IAAMC,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,EAAM,CACtC,MAAO,UAACC,QAAD,CAAc,CACnBA,QAAQ,CAAC,CAAEC,IAAI,CAAEP,mBAAR,CAAD,CAAR,CACA,GAAMQ,CAAAA,YAAY,CAAG,wCAArB,CACA,GAAMC,CAAAA,eAAe,CAAG,gDAAxB,CAEA,GAAMC,CAAAA,SAAS,CAAGb,KAAK,CAACc,GAAN,CAAUH,YAAV,CAAlB,CACA,GAAMI,CAAAA,YAAY,CAAGf,KAAK,CAACc,GAAN,CAAUF,eAAV,CAArB,CACAZ,KAAK,CACFgB,GADH,CACO,CAACH,SAAD,CAAYE,YAAZ,CADP,EAEGE,IAFH,CAEQjB,KAAK,CAACkB,MAAN,CAAa,UAAgB,CACjC,GAAMC,CAAAA,YAAY,2CAAlB,CACA,GAAMC,CAAAA,eAAe,2CAArB,CACAX,QAAQ,CAAC,CAACC,IAAI,CAACT,cAAN,CAAsBoB,OAAO,CAACF,YAAY,CAACG,IAAb,CAAkBC,SAAlB,CAA4B,CAA5B,CAA9B,CAAD,CAAR,CACAd,QAAQ,CAAC,CAACC,IAAI,CAACN,eAAN,CAAuBiB,OAAO,CAACF,YAAY,CAACG,IAAb,CAAkBC,SAAlB,CAA4BC,KAA5B,CAAkC,CAAlC,CAAqC,CAAC,CAAtC,CAA/B,CAAD,CAAR,CACAf,QAAQ,CAAC,CAACC,IAAI,CAACL,eAAN,CAAuBgB,OAAO,CAACF,YAAY,CAACG,IAAb,CAAkBG,iBAAjD,CAAD,CAAR,CACAhB,QAAQ,CAAC,CAACC,IAAI,CAACJ,gBAAN,CAAwBe,OAAO,CAACF,YAAY,CAACG,IAAb,CAAkBI,MAAlD,CAAD,CAAR,CACAjB,QAAQ,CAAC,CAACC,IAAI,CAACH,YAAN,CAAoBc,OAAO,CAACD,eAAe,CAACE,IAAhB,CAAqBK,QAAjD,CAAD,CAAR,CACD,CARK,CAFR,EAWGC,KAXH,CAWS,SAACC,GAAD,CAAS,CACdC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACApB,QAAQ,CAAC,CAACC,IAAI,CAACR,gBAAN,CAAwBmB,OAAO,CAAC,kBAAhC,CAAD,CAAR,CACD,CAdH,EAeD,CAtBD,CAuBD,CAxBM","sourcesContent":["import axios from \"axios\";\r\n\r\nexport const GET_LIVE_STATS = \"GET_LIVE_STATS\";\r\nexport const ERROR_LIVE_STATS = \"ERROR_LIVE_STATS\";\r\nexport const FETCHING_LIVE_STATS = \"FETCHING_LIVE_STATS\";\r\nexport const GET_STATES_DATA = \"GET_STATES_DATA\";\r\nexport const GET_TIME_SERIES = \"GET_TIME_SERIES\";\r\nexport const GET_TEST_SAMPLES = \"GET_TEST_SAMPLES\";\r\nexport const GET_FACTOIDS = \"GET_FACTOIDS\";\r\n\r\n\r\nexport const getLiveStatsAction = () => {\r\n  return (dispatch) => {\r\n    dispatch({ type: FETCHING_LIVE_STATS });\r\n    const statsRequest = \"https://api.covid19india.org/data.json\"\r\n    const factoidsRequest = \"https://api.covid19india.org/website_data.json\"\r\n\r\n    const statsResp = axios.get(statsRequest)\r\n    const factoidsResp = axios.get(factoidsRequest)\r\n    axios\r\n      .all([statsResp, factoidsResp])\r\n      .then(axios.spread((...allData) => {\r\n        const allDataStats = allData[0]\r\n        const allDataFactoids = allData[1]\r\n        dispatch({type:GET_LIVE_STATS, payload:allDataStats.data.statewise[0]})  \r\n        dispatch({type:GET_STATES_DATA, payload:allDataStats.data.statewise.slice(1, -1)})\r\n        dispatch({type:GET_TIME_SERIES, payload:allDataStats.data.cases_time_series})\r\n        dispatch({type:GET_TEST_SAMPLES, payload:allDataStats.data.tested})\r\n        dispatch({type:GET_FACTOIDS, payload:allDataFactoids.data.factoids})\r\n      }))\r\n      .catch((err) => {\r\n        console.log(err);\r\n        dispatch({type:ERROR_LIVE_STATS, payload:'Error. Try again'})\r\n      });\r\n  };\r\n};\r\n"]},"metadata":{},"sourceType":"module"}