{"ast":null,"code":"import _slicedToArray from\"D:\\\\Users\\\\sagar\\\\Desktop\\\\projects\\\\React projects\\\\coronavirus\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{connect}from\"react-redux\";import{Link}from\"react-router-dom\";import\"./stateinfo.css\";import{stateInfoAction,districtInfoAction,zoneInfoAction}from\"../../store/actions/stateInfoActions\";import MaharashtraMap from\"../home/geographics/MaharashtraMap\";import{difference}from\"lodash\";// Array of zone Data\nvar zonedStates=[];var StateInfo=function StateInfo(props){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),impData=_useState2[0],setImpData=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),districts=_useState4[0],setDistrictData=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),zone=_useState6[0],setZone=_useState6[1];console.log(props.stateInfo);// object filter for states\n//     const allowed = ['35','34','33','32']\n//     const filtered = Object.keys(props.stateInfo)\n//     .filter(key => !allowed.includes(key))\n//     .reduce((obj, key) => {\n//       obj[key] = props.stateInfo[key];\n//       return obj;\n//     }, {});\n//   console.log(filtered);\nuseEffect(function(){props.getStatesData();props.getDistrictData();props.getZoneData();// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);useEffect(function(){if(props.stateInfo.length!==0){// get the state from the params statecode\nvar stateCode=props.match.params.statename;var index=props.stateInfo.findIndex(function(name){return name.statecode===stateCode;});var state=props.stateInfo[index];setImpData(state);}if(props.districtInfo.length!==0){// get the district data from the statecode\nvar _stateCode=props.match.params.statename;var districtIndex=props.districtInfo.findIndex(function(districtItem){return districtItem.statecode===_stateCode;});var district=props.districtInfo[districtIndex].districtData;setDistrictData(district);}if(props.zoneInfo.length!==0){// get the Zone Data for current selected state \nvar _stateCode2=props.match.params.statename;for(var i in props.zoneInfo){if(props.zoneInfo[i].statecode===_stateCode2){zonedStates.push(props.zoneInfo[i]);}}setZone(zonedStates);}},[props,zone]);// zone.forEach(elem => {\n//     elem.zone === 'Green' && console.log('green')\n// })\n// districts.forEach(add => {\n//     zone.map(ed => {\n//         return add.zone = ed.zone\n//     })\n// })\n// console.log(districts)\nvar handleStateSelect=function handleStateSelect(e){props.history.push(\"\".concat(e.target.value));};return/*#__PURE__*/React.createElement(\"div\",{className:\"container mt-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"bc-icons-2 bread col-sm-6\"},/*#__PURE__*/React.createElement(\"nav\",{\"aria-label\":\"breadcrumb\"},/*#__PURE__*/React.createElement(\"ol\",{className:\"breadcrumb \".concat(props.modeState&&'grey lighten-1',\" grey lighten-4\")},/*#__PURE__*/React.createElement(\"li\",{className:\"breadcrumb-item\"},/*#__PURE__*/React.createElement(Link,{className:\"black-text\",to:\"/\"},\"Home\")),/*#__PURE__*/React.createElement(\"li\",{className:\"breadcrumb-item\"},/*#__PURE__*/React.createElement(\"select\",{onChange:handleStateSelect},/*#__PURE__*/React.createElement(\"option\",{selected:true},impData.state),props.stateInfo.slice(0,32).map(function(state,index){return/*#__PURE__*/React.createElement(\"option\",{key:index,value:state.statecode},state.state);})))))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-sm-6\"},/*#__PURE__*/React.createElement(\"p\",{className:\"text-danger\",style:{margin:0,fontSize:\"24px\",fontWeight:600}},impData.state,\" \"),/*#__PURE__*/React.createElement(\"p\",{className:\"text-muted font-italic\"},\"Last updated on - \",new Date(impData.lastupdatedtime).toLocaleString()))),/*#__PURE__*/React.createElement(\"div\",{className:\"state-counts row\",style:{margin:\"5px\"}},/*#__PURE__*/React.createElement(\"div\",{className:\"col-6 col-md-3 state-count-box rgba-red-slight\"},/*#__PURE__*/React.createElement(\"p\",{className:\"text-danger\"},\"Confirm\"),/*#__PURE__*/React.createElement(\"p\",{className:\"text-danger\",style:{margin:0}},impData.confirmed),impData.deltaconfirmed<=0?/*#__PURE__*/React.createElement(\"p\",{className:\"text-danger\"},\"No new cases yet\"):/*#__PURE__*/React.createElement(\"div\",{className:\"row delta-data text-danger\"},/*#__PURE__*/React.createElement(\"i\",{className:\" far fa-arrow-alt-circle-up cc_pointer text-small\"}),/*#__PURE__*/React.createElement(\"p\",{className:\"delta-confirmed \"},impData.deltaconfirmed))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6  col-md-3 state-count-box rgba-blue-slight\"},/*#__PURE__*/React.createElement(\"p\",{className:\"text-info\"},\"Active\"),/*#__PURE__*/React.createElement(\"p\",{className:\"text-info\"},impData.active),impData.deltaconfirmed<=0?/*#__PURE__*/React.createElement(\"p\",{className:\"text-info\"},\"No new cases yet\"):/*#__PURE__*/React.createElement(\"div\",{className:\"row delta-data text-info\"},/*#__PURE__*/React.createElement(\"i\",{className:\" far fa-arrow-alt-circle-up cc_pointer text-small\"}),/*#__PURE__*/React.createElement(\"p\",{className:\"delta-confirmed \"},impData.deltaconfirmed))),/*#__PURE__*/React.createElement(\"div\",{className:\" col-6 col-md-3  state-count-box rgba-green-slight\"},/*#__PURE__*/React.createElement(\"p\",{className:\"text-success\"},\"Recovered\"),/*#__PURE__*/React.createElement(\"p\",{className:\"text-success\"},impData.recovered),impData.deltarecovered<=0?/*#__PURE__*/React.createElement(\"p\",{className:\"text-success\"},\"No new cases yet\"):/*#__PURE__*/React.createElement(\"div\",{className:\"row delta-data text-success\"},/*#__PURE__*/React.createElement(\"i\",{className:\" far fa-arrow-alt-circle-up cc_pointer text-small\"}),/*#__PURE__*/React.createElement(\"p\",{className:\"delta-confirmed \"},impData.deltarecovered))),/*#__PURE__*/React.createElement(\"div\",{className:\" col-6  col-md-3 state-count-box rgba-grey-slight\"},/*#__PURE__*/React.createElement(\"p\",{className:\"text-black\"},\"Deceased\"),/*#__PURE__*/React.createElement(\"p\",{className:\"text-black\"},impData.deaths),impData.deltadeaths<=0?/*#__PURE__*/React.createElement(\"p\",{className:\"text-black\"},\"No new cases yet\"):/*#__PURE__*/React.createElement(\"div\",{className:\"row delta-data text-black\"},/*#__PURE__*/React.createElement(\"i\",{className:\" far fa-arrow-alt-circle-up cc_pointer text-small\"}),/*#__PURE__*/React.createElement(\"p\",{className:\"delta-confirmed \"},impData.deltadeaths)))),/*#__PURE__*/React.createElement(\"div\",{className:\"row districts-map\"},/*#__PURE__*/React.createElement(\"div\",{className:\"district-data col-md-6\"},/*#__PURE__*/React.createElement(\"p\",{className:\"text-danger\",style:{fontSize:\"20px\",fontWeight:600}},\"District Data\"),/*#__PURE__*/React.createElement(\"table\",{className:\"table\"},/*#__PURE__*/React.createElement(\"thead\",{className:\"thead-dark\"},/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"Districts\"),/*#__PURE__*/React.createElement(\"th\",{className:\"confirmed\"}),/*#__PURE__*/React.createElement(\"th\",{className:\"active\"}),/*#__PURE__*/React.createElement(\"th\",{className:\"recovered\"}),/*#__PURE__*/React.createElement(\"th\",{className:\"deceased\"}))),/*#__PURE__*/React.createElement(\"tbody\",null,districts.map(function(dist,index){return/*#__PURE__*/React.createElement(\"tr\",{className:\"\".concat(props.modeState&&'dark-table',\" \"),key:index},/*#__PURE__*/React.createElement(\"td\",null,dist.district),/*#__PURE__*/React.createElement(\"td\",null,dist.confirmed,dist.delta.confirmed!==0&&/*#__PURE__*/React.createElement(\"i\",{className:\"text-danger far fa-arrow-alt-circle-up cc_pointer text-small\"},dist.delta.confirmed),zone.map(function(z,index){return dist.district===z.district&&/*#__PURE__*/React.createElement(\"p\",{key:index},z.zone);})),/*#__PURE__*/React.createElement(\"td\",null,dist.active,dist.delta.confirmed!==0&&/*#__PURE__*/React.createElement(\"i\",{className:\"text-info far fa-arrow-alt-circle-up cc_pointer text-small\"},dist.delta.confirmed)),/*#__PURE__*/React.createElement(\"td\",null,dist.recovered,dist.delta.recovered!==0&&/*#__PURE__*/React.createElement(\"i\",{className:\"text-success far fa-arrow-alt-circle-up cc_pointer text-small\"},dist.delta.recovered)),/*#__PURE__*/React.createElement(\"td\",null,dist.deceased,dist.delta.deceased!==0&&/*#__PURE__*/React.createElement(\"i\",{className:\"text-black far fa-arrow-alt-circle-up cc_pointer text-small\"},dist.delta.deceased)));})))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6\"})));};var mapStateToProps=function mapStateToProps(state){return{stateInfo:state.stateInfo.statesInfoData,districtInfo:state.stateInfo.districtData,zoneInfo:state.stateInfo.zoneData,modeState:state.darkMode.hasmode};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{getStatesData:function getStatesData(){return dispatch(stateInfoAction());},getDistrictData:function getDistrictData(){return dispatch(districtInfoAction());},getZoneData:function getZoneData(){return dispatch(zoneInfoAction());}};};export default connect(mapStateToProps,mapDispatchToProps)(StateInfo);","map":{"version":3,"sources":["D:/Users/sagar/Desktop/projects/React projects/coronavirus/src/components/home/StateInfo.js"],"names":["React","useState","useEffect","connect","Link","stateInfoAction","districtInfoAction","zoneInfoAction","MaharashtraMap","difference","zonedStates","StateInfo","props","impData","setImpData","districts","setDistrictData","zone","setZone","console","log","stateInfo","getStatesData","getDistrictData","getZoneData","length","stateCode","match","params","statename","index","findIndex","name","statecode","state","districtInfo","districtIndex","districtItem","district","districtData","zoneInfo","i","push","handleStateSelect","e","history","target","value","modeState","slice","map","margin","fontSize","fontWeight","Date","lastupdatedtime","toLocaleString","confirmed","deltaconfirmed","active","recovered","deltarecovered","deaths","deltadeaths","dist","delta","z","deceased","mapStateToProps","statesInfoData","zoneData","darkMode","hasmode","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./stateinfo.css\";\r\nimport { stateInfoAction, districtInfoAction, zoneInfoAction } from \"../../store/actions/stateInfoActions\";\r\nimport MaharashtraMap from \"../home/geographics/MaharashtraMap\";\r\nimport { difference } from \"lodash\";\r\n\r\n\r\n// Array of zone Data\r\nvar zonedStates = []\r\n\r\n\r\nconst StateInfo = (props) => {\r\n    const [impData, setImpData] = useState({})\r\n    const [districts, setDistrictData] = useState([])\r\n    const [zone, setZone] = useState([])\r\n    console.log(props.stateInfo)\r\n\r\n    // object filter for states\r\n\r\n//     const allowed = ['35','34','33','32']\r\n\r\n//     const filtered = Object.keys(props.stateInfo)\r\n//     .filter(key => !allowed.includes(key))\r\n//     .reduce((obj, key) => {\r\n//       obj[key] = props.stateInfo[key];\r\n//       return obj;\r\n//     }, {});\r\n  \r\n//   console.log(filtered);\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        props.getStatesData()\r\n        props.getDistrictData()\r\n        props.getZoneData()\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [])\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        if (props.stateInfo.length !== 0) {\r\n\r\n            // get the state from the params statecode\r\n            const stateCode = props.match.params.statename\r\n            const index = props.stateInfo.findIndex(name => name.statecode === stateCode)\r\n            const state = props.stateInfo[index]\r\n            setImpData(state)\r\n        }\r\n        if (props.districtInfo.length !== 0) {\r\n\r\n            // get the district data from the statecode\r\n            const stateCode = props.match.params.statename\r\n            const districtIndex = props.districtInfo.findIndex(districtItem => districtItem.statecode === stateCode)\r\n            const district = props.districtInfo[districtIndex].districtData\r\n            setDistrictData(district)\r\n        }\r\n\r\n        if (props.zoneInfo.length !== 0) {\r\n\r\n            // get the Zone Data for current selected state \r\n            const stateCode = props.match.params.statename\r\n            for (var i in props.zoneInfo) {\r\n                if (props.zoneInfo[i].statecode === stateCode) {\r\n                    zonedStates.push(props.zoneInfo[i])\r\n                }\r\n            }\r\n            setZone(zonedStates)\r\n        }\r\n    }, [props, zone])\r\n\r\n\r\n    // zone.forEach(elem => {\r\n    //     elem.zone === 'Green' && console.log('green')\r\n    // })\r\n\r\n\r\n    // districts.forEach(add => {\r\n    //     zone.map(ed => {\r\n    //         return add.zone = ed.zone\r\n    //     })\r\n    // })\r\n\r\n    // console.log(districts)\r\n\r\n    const handleStateSelect = e => {\r\n        props.history.push(`${e.target.value}`)\r\n    }\r\n\r\n    return (\r\n        <div className=\"container mt-3\">\r\n            <div className=\"row\">\r\n                <div className=\"bc-icons-2 bread col-sm-6\">\r\n                    <nav aria-label=\"breadcrumb\">\r\n                        <ol className={`breadcrumb ${props.modeState && 'grey lighten-1'} grey lighten-4`}>\r\n                            <li className=\"breadcrumb-item\"><Link className=\"black-text\" to=\"/\">Home</Link></li>\r\n                            <li className=\"breadcrumb-item\">\r\n                                <select onChange={handleStateSelect}>\r\n                                    <option selected>{impData.state}</option>\r\n                                    {props.stateInfo.slice(0,32).map((state, index) => (\r\n                                        <option key={index} value={state.statecode}>{state.state}</option>\r\n                                    ))}\r\n                                </select>\r\n                            </li>\r\n                            {/* <li className=\"breadcrumb-item\"><span className=\"badge badge-pill badge-info\" style={{ fontSize: \"14px\" }}> {impData.state} </span></li> */}\r\n                        </ol>\r\n                    </nav>\r\n                </div>\r\n\r\n\r\n                <div className=\"col-sm-6\">\r\n                    <p className=\"text-danger\" style={{ margin: 0, fontSize: \"24px\", fontWeight: 600 }}>{impData.state} </p>\r\n                    <p className=\"text-muted font-italic\" >Last updated on - {new Date(impData.lastupdatedtime).toLocaleString()}</p>\r\n                </div>\r\n\r\n\r\n            </div>\r\n\r\n            <div className=\"state-counts row\" style={{ margin: \"5px\" }}>\r\n                <div className=\"col-6 col-md-3 state-count-box rgba-red-slight\">\r\n                    <p className=\"text-danger\">Confirm</p>\r\n                    <p className=\"text-danger\" style={{ margin: 0 }}>{impData.confirmed}</p>\r\n\r\n                    {impData.deltaconfirmed <= 0 ? <p className=\"text-danger\">No new cases yet</p> :\r\n                        <div className=\"row delta-data text-danger\">\r\n                            <i className=\" far fa-arrow-alt-circle-up cc_pointer text-small\"></i><p className=\"delta-confirmed \">{impData.deltaconfirmed}</p>\r\n                        </div>\r\n                    }\r\n                </div>\r\n\r\n                <div className=\"col-6  col-md-3 state-count-box rgba-blue-slight\">\r\n                    <p className=\"text-info\">Active</p>\r\n                    <p className=\"text-info\">{impData.active}</p>\r\n\r\n                    {impData.deltaconfirmed <= 0 ? <p className=\"text-info\">No new cases yet</p> :\r\n                        <div className=\"row delta-data text-info\">\r\n                            <i className=\" far fa-arrow-alt-circle-up cc_pointer text-small\"></i><p className=\"delta-confirmed \">{impData.deltaconfirmed}</p>\r\n                        </div>\r\n                    }\r\n\r\n                </div>\r\n                <div className=\" col-6 col-md-3  state-count-box rgba-green-slight\">\r\n                    <p className=\"text-success\">Recovered</p>\r\n                    <p className=\"text-success\">{impData.recovered}</p>\r\n\r\n                    {impData.deltarecovered <= 0 ? <p className=\"text-success\">No new cases yet</p> :\r\n                        <div className=\"row delta-data text-success\">\r\n                            <i className=\" far fa-arrow-alt-circle-up cc_pointer text-small\"></i><p className=\"delta-confirmed \">{impData.deltarecovered}</p>\r\n                        </div>\r\n                    }\r\n\r\n                </div>\r\n                <div className=\" col-6  col-md-3 state-count-box rgba-grey-slight\">\r\n                    <p className=\"text-black\">Deceased</p>\r\n                    <p className=\"text-black\">{impData.deaths}</p>\r\n\r\n                    {impData.deltadeaths <= 0 ? <p className=\"text-black\">No new cases yet</p> :\r\n\r\n                        <div className=\"row delta-data text-black\">\r\n                            <i className=\" far fa-arrow-alt-circle-up cc_pointer text-small\"></i><p className=\"delta-confirmed \">{impData.deltadeaths}</p>\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </div>\r\n\r\n            {/* District table and map */}\r\n\r\n            <div className=\"row districts-map\">\r\n                <div className=\"district-data col-md-6\">\r\n                    <p className=\"text-danger\" style={{ fontSize: \"20px\", fontWeight: 600 }}>District Data</p>\r\n\r\n                    <table className=\"table\">\r\n                        <thead className=\"thead-dark\">\r\n                            <tr>\r\n                                <th>Districts</th>\r\n                                <th className=\"confirmed\"></th>\r\n                                <th className=\"active\"></th>\r\n                                <th className=\"recovered\"></th>\r\n                                <th className=\"deceased\"></th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {districts.map((dist, index) => (\r\n                                <tr className={`${props.modeState && 'dark-table'} `} key={index}>\r\n                                    <td >{dist.district}</td>\r\n                                    <td>{dist.confirmed}\r\n                                        {dist.delta.confirmed !== 0 &&\r\n                                            <i className=\"text-danger far fa-arrow-alt-circle-up cc_pointer text-small\">{dist.delta.confirmed}</i>\r\n                                        }\r\n                                        {zone.map((z, index) => (\r\n                                            dist.district === z.district && <p key={index}>{z.zone}</p>\r\n                                        ))}\r\n\r\n                                        {/* {zone[index] !== undefined  && dist.district === zone[index].district ? <p className=\"text-danger\"> { zone[index].zone} </p> : <p>Not available</p>} */}\r\n\r\n                                    </td>\r\n                                    <td>{dist.active}\r\n                                        {dist.delta.confirmed !== 0 &&\r\n                                            <i className=\"text-info far fa-arrow-alt-circle-up cc_pointer text-small\">{dist.delta.confirmed}</i>\r\n                                        }\r\n                                    </td>\r\n                                    <td>{dist.recovered}\r\n                                        {dist.delta.recovered !== 0 &&\r\n                                            <i className=\"text-success far fa-arrow-alt-circle-up cc_pointer text-small\">{dist.delta.recovered}</i>\r\n                                        }\r\n                                    </td>\r\n                                    <td>{dist.deceased}\r\n                                        {dist.delta.deceased !== 0 &&\r\n                                            <i className=\"text-black far fa-arrow-alt-circle-up cc_pointer text-small\">{dist.delta.deceased}</i>\r\n                                        }\r\n                                    </td>\r\n                                </tr>\r\n                            ))}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n\r\n                <div className=\"col-md-6\">\r\n                    {/* {props.match.params.statename === 'MH' && <MaharashtraMap />} */}\r\n\r\n\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        stateInfo: state.stateInfo.statesInfoData,\r\n        districtInfo: state.stateInfo.districtData,\r\n        zoneInfo: state.stateInfo.zoneData,\r\n        modeState: state.darkMode.hasmode\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        getStatesData: () => dispatch(stateInfoAction()),\r\n        getDistrictData: () => dispatch(districtInfoAction()),\r\n        getZoneData: () => dispatch(zoneInfoAction())\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(StateInfo)  "]},"metadata":{},"sourceType":"module"}