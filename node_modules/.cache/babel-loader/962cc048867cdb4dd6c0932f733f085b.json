{"ast":null,"code":"var _jsxFileName = \"D:\\\\Users\\\\sagar\\\\Desktop\\\\projects\\\\React projects\\\\coronavirus\\\\src\\\\components\\\\home\\\\geographics\\\\IndiaMap.js\";\nimport React, { useState, useEffect } from 'react';\nimport ReactTooltip from 'react-tooltip';\nimport { scaleQuantile } from 'd3-scale';\nimport { ComposableMap, Geographies, Geography } from 'react-simple-maps';\n\nconst INDIA_TOPO_JSON = require('./india.topo.json');\n\nconst PROJECTION_CONFIG = {\n  scale: 650,\n  center: [78.9629, 22.5937] // always in [East Latitude, North Longitude]\n\n}; // Red Variants\n\nconst COLOR_RANGE = ['#ffedea', '#ffcec5', '#ffad9f', '#ff8a75', '#ff5533', '#e2492d', '#be3d26', '#9a311f', '#782618'];\nconst DEFAULT_COLOR = '#EEE';\n\nconst getRandomInt = () => {\n  return parseInt(Math.random() * 100);\n};\n\nconst geographyStyle = {\n  default: {\n    outline: 'none'\n  },\n  hover: {\n    fill: '#ccc',\n    transition: 'all 250ms',\n    outline: 'none'\n  },\n  pressed: {\n    outline: 'none'\n  }\n};\n\nconst IndiaMap = props => {\n  // custom array of objects for states of map\n  const newArr = props.statesData.map(state => {\n    return {\n      id: state.statecode,\n      state: state.state,\n      value: state.active\n    };\n  }); // will generate random heatmap data on every call\n\n  const getHeatMapData = () => {\n    return newArr;\n  };\n\n  console.log(props.statesData);\n  const [tooltipContent, setTooltipContent] = useState('');\n  const [data, setData] = useState(getHeatMapData());\n  const gradientData = {\n    fromColor: COLOR_RANGE[0],\n    toColor: COLOR_RANGE[COLOR_RANGE.length - 1],\n    min: 0,\n    max: data.reduce((max, item) => item.value > max ? item.value : max, 0)\n  };\n  const colorScale = scaleQuantile().domain(data.map(d => d.value)).range(COLOR_RANGE);\n\n  const onMouseEnter = (geo, current = {\n    value: 'NA'\n  }) => {\n    return () => {\n      setTooltipContent(`${geo.properties.name}: ${current.value}`);\n    };\n  };\n\n  const onMouseLeave = () => {\n    setTooltipContent('');\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(ReactTooltip, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }\n  }, tooltipContent), /*#__PURE__*/React.createElement(ComposableMap, {\n    projectionConfig: PROJECTION_CONFIG,\n    projection: \"geoMercator\",\n    width: 420,\n    height: 520,\n    \"data-tip\": \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Geographies, {\n    geography: INDIA_TOPO_JSON,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 17\n    }\n  }, ({\n    geographies\n  }) => geographies.map(geo => {\n    const current = data.find(s => s.id === geo.id);\n    return /*#__PURE__*/React.createElement(Geography, {\n      key: geo.rsmKey,\n      geography: geo,\n      fill: current ? colorScale(current.value) : DEFAULT_COLOR,\n      style: geographyStyle,\n      onMouseEnter: onMouseEnter(geo, current),\n      onMouseLeave: onMouseLeave,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 33\n      }\n    });\n  }))));\n};\n\nexport default IndiaMap;","map":{"version":3,"sources":["D:/Users/sagar/Desktop/projects/React projects/coronavirus/src/components/home/geographics/IndiaMap.js"],"names":["React","useState","useEffect","ReactTooltip","scaleQuantile","ComposableMap","Geographies","Geography","INDIA_TOPO_JSON","require","PROJECTION_CONFIG","scale","center","COLOR_RANGE","DEFAULT_COLOR","getRandomInt","parseInt","Math","random","geographyStyle","default","outline","hover","fill","transition","pressed","IndiaMap","props","newArr","statesData","map","state","id","statecode","value","active","getHeatMapData","console","log","tooltipContent","setTooltipContent","data","setData","gradientData","fromColor","toColor","length","min","max","reduce","item","colorScale","domain","d","range","onMouseEnter","geo","current","properties","name","onMouseLeave","geographies","find","s","rsmKey"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\r\nimport ReactTooltip from 'react-tooltip';\r\nimport { scaleQuantile } from 'd3-scale';\r\nimport { ComposableMap, Geographies, Geography } from 'react-simple-maps';\r\nconst INDIA_TOPO_JSON = require('./india.topo.json');\r\n\r\nconst PROJECTION_CONFIG = {\r\n    scale: 650,\r\n    center: [78.9629, 22.5937] // always in [East Latitude, North Longitude]\r\n};\r\n\r\n\r\n// Red Variants\r\nconst COLOR_RANGE = [\r\n    '#ffedea',\r\n    '#ffcec5',\r\n    '#ffad9f',\r\n    '#ff8a75',\r\n    '#ff5533',\r\n    '#e2492d',\r\n    '#be3d26',\r\n    '#9a311f',\r\n    '#782618'\r\n];\r\n\r\nconst DEFAULT_COLOR = '#EEE';\r\n\r\nconst getRandomInt = () => {\r\n    return parseInt(Math.random() * 100);\r\n};\r\n\r\nconst geographyStyle = {\r\n    default: {\r\n        outline: 'none'\r\n    },\r\n    hover: {\r\n        fill: '#ccc',\r\n        transition: 'all 250ms',\r\n        outline: 'none'\r\n    },\r\n    pressed: {\r\n        outline: 'none'\r\n    }\r\n};\r\n\r\n\r\n\r\nconst IndiaMap = (props) => {\r\n\r\n    // custom array of objects for states of map\r\n    const newArr = props.statesData.map(state => {\r\n        return {id : state.statecode, state: state.state, value : state.active}\r\n    })\r\n\r\n\r\n// will generate random heatmap data on every call\r\n    const getHeatMapData = () => {\r\n        return newArr\r\n    };\r\n    \r\n\r\n    console.log(props.statesData)\r\n    const [tooltipContent, setTooltipContent] = useState('');\r\n    const [data, setData] = useState(getHeatMapData());\r\n\r\n\r\n    const gradientData = {\r\n        fromColor: COLOR_RANGE[0],\r\n        toColor: COLOR_RANGE[COLOR_RANGE.length - 1],\r\n        min: 0,\r\n        max: data.reduce((max, item) => (item.value > max ? item.value : max), 0)\r\n      };\r\n    \r\n      const colorScale = scaleQuantile()\r\n        .domain(data.map(d => d.value))\r\n        .range(COLOR_RANGE);\r\n    \r\n      const onMouseEnter = (geo, current = { value: 'NA' }) => {\r\n        return () => {\r\n          setTooltipContent(`${geo.properties.name}: ${current.value}`);\r\n        };\r\n      };\r\n    \r\n      const onMouseLeave = () => {\r\n        setTooltipContent('');\r\n      };\r\n    \r\n\r\n    return (\r\n        <div>\r\n            <ReactTooltip>{tooltipContent}</ReactTooltip>\r\n            <ComposableMap\r\n                projectionConfig={PROJECTION_CONFIG}\r\n                projection=\"geoMercator\"\r\n                width={420}\r\n                height={520}\r\n                data-tip=\"\"\r\n            >\r\n                <Geographies geography={INDIA_TOPO_JSON}>\r\n                    {({ geographies }) =>\r\n                        geographies.map(geo => {\r\n                            const current = data.find(s => s.id === geo.id);\r\n                            return (\r\n                                <Geography\r\n                                    key={geo.rsmKey}\r\n                                    geography={geo}\r\n                                    fill={current ? colorScale(current.value) : DEFAULT_COLOR}\r\n                                    style={geographyStyle}\r\n                                    onMouseEnter={onMouseEnter(geo, current)}\r\n                                    onMouseLeave={onMouseLeave}\r\n                                />\r\n                            );\r\n                        })\r\n                    }\r\n                </Geographies>\r\n            </ComposableMap>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\nexport default IndiaMap"]},"metadata":{},"sourceType":"module"}